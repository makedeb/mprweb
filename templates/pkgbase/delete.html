{% extends "partials/layout.html" %}
{% block body %}
    <div class="box">
        <form action="/pkgbase/{{ pkgbase.Name }}/delete" method="post">
            <fieldset>
                {% if errors %}
                    <ul class="errorlist">
                        {% for error in errors %}
                            <li>{{ error | tr }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}

                <h2>{{ "Delete Package" | tr }}: {{ pkgbase.Name }}</h2>                
                <div class="item">
                    <p>
                        {{ "Use this form to delete the package base %s%s%s and "
                           "the following packages from the MPR: "
                           | tr | format("<strong>", pkgbase.Name, "</strong>") | safe
                        }}
                    </p>

                    <ul>
                        {% for package in pkgbase.packages.all() %}
                            <li>{{ package.Name }}</li>
                        {% endfor %}
                    </ul>

                    <p class="comment">
                        {{
                            "This action will close any pending package requests "
                            "related to it. If %sComments%s are omitted, a closure "
                            "comment will be autogenerated."
                            | tr | format("<em>", "</em>") | safe
                        }}
                    </p>

                    <p class="comment">
                        {{
                            "Deletion of a package is permanent. "
                            "Select the checkbox to confirm action." | tr
                        }}
                    </p>
                </div>

                <div class="item">
                    <label for="id_comments"><h2>{{ "Comments" | tr }}:</h2></label>
                    <textarea id="id_comments" name="comments" rows="5" cols="50" placeholder="Related package request closure comments..."></textarea>
                </div>

                <div class="item">
                    <label class="confirmation">
                        <input class="checkbox" type="checkbox" name="confirm" value="1" />
                        {{ "Confirm package deletion" | tr }}
                    </label>
                </div>

                <div class="item">
                    <input class="button" type="submit" value="{{ 'Delete' | tr }}" />
                </div>
            </fieldset>
        </form>
    </div>
{% endblock %}
{# vim: set sw=4 expandtab: #}
